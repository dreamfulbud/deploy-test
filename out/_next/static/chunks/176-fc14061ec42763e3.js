"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[176],{7900:function(e,t,n){function a(e){var t=e.match(/^var\((.*)\)$/);return t?t[1]:e}function o(e,t){var n={};if("object"==typeof t)!function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=t.constructor();for(var r in t){var s=t[r],i=[...a,r];"string"==typeof s||"number"==typeof s||null==s?o[r]=n(s,i):"object"!=typeof s||Array.isArray(s)?console.warn('Skipping invalid key "'.concat(i.join("."),'". Should be a string, number, null or object. Received: "').concat(Array.isArray(s)?"Array":typeof s,'"')):o[r]=e(s,n,i)}return o}(t,(t,o)=>{null!=t&&(n[a(function(e,t){var n=e;for(var a of t){if(!(a in n))throw Error("Path ".concat(t.join(" -> ")," does not exist in object"));n=n[a]}return n}(e,o))]=String(t))});else for(var o in e){var r=e[o];null!=r&&(n[a(o)]=r)}return Object.defineProperty(n,"toString",{value:function(){return Object.keys(this).map(e=>"".concat(e,":").concat(this[e])).join(";")},writable:!1}),n}n.d(t,{L:function(){return o}})},8792:function(e,t,n){n.d(t,{default:function(){return o.a}});var a=n(5250),o=n.n(a)},3167:function(e,t,n){n.d(t,{W:function(){return a}});function a(){for(var e,t,n=0,a="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=function e(t){var n,a,o="";if("string"==typeof t||"number"==typeof t)o+=t;else if("object"==typeof t){if(Array.isArray(t)){var r=t.length;for(n=0;n<r;n++)t[n]&&(a=e(t[n]))&&(o&&(o+=" "),o+=a)}else for(a in t)t[a]&&(o&&(o+=" "),o+=a)}return o}(e))&&(a&&(a+=" "),a+=t);return a}},4703:function(e,t,n){n.r(t),n.d(t,{AbstractOverlay:function(){return O},Circle:function(){return R},CustomOverlayMap:function(){return I},CustomOverlayRoadview:function(){return _},DrawingManager:function(){return F},DrawingManagerContext:function(){return D},Ellipse:function(){return T},KakaoMapContext:function(){return f},KakaoMapMarkerClustererContext:function(){return v},KakaoRoadviewContext:function(){return j},Loader:function(){return c},LoaderStatus:function(){return l},Map:function(){return m},MapInfoWindow:function(){return E},MapMarker:function(){return M},MapTypeControl:function(){return C},MapTypeId:function(){return x},MarkerClusterer:function(){return h},Polygon:function(){return S},Polyline:function(){return P},Rectangle:function(){return A},Roadview:function(){return z},RoadviewInfoWindow:function(){return N},RoadviewMarker:function(){return Z},StaticMap:function(){return K},Toolbox:function(){return U},ZoomControl:function(){return b},useInjectKakaoMapApi:function(){return W},useKakaoLoader:function(){return G},useMap:function(){return k},useRoadview:function(){return H}});var a,o=n(2265);let r="undefined"!=typeof window&&"undefined"!=typeof document?o.useLayoutEffect:o.useEffect,s=(e,t,n)=>{r(()=>{if(!e||!n)return;let a=function(){for(var t=arguments.length,a=Array(t),o=0;o<t;o++)a[o]=arguments[o];return void 0===a?n(e):n(e,...a)};return kakao.maps.event.addListener(e,t,a),()=>{kakao.maps.event.removeListener(e,t,a)}},[e,t,n])},i="__react-kakao-maps-sdk__",l=((a={})[a.INITIALIZED=0]="INITIALIZED",a[a.LOADING=1]="LOADING",a[a.SUCCESS=2]="SUCCESS",a[a.FAILURE=3]="FAILURE",a),u=`${i}_Loader`;class c{static loadEventCallback=new Set;callbacks=[];done=!1;loading=!1;errors=[];constructor(e){let{appkey:t,id:n=u,libraries:a=[],nonce:o,retries:r=3,url:s="//dapi.kakao.com/v2/maps/sdk.js"}=e;if(this.id=n,this.appkey=t,this.libraries=a,this.nonce=o,this.retries=r,this.url=s,c.instance&&!c.equalOptions(this.options,c.instance.options)&&!c.equalOptions(this.options,c.instance.options)){if(c.instance.status===l.FAILURE)throw Error(`Loader must not be called again with different options. 
${JSON.stringify(this.options,null,2)}
!==
${JSON.stringify(c.instance.options,null,2)}`);c.instance.reset(),c.instance=this}return c.instance||(c.instance=this),c.instance}get options(){return{appkey:this.appkey,id:this.id,libraries:this.libraries,nonce:this.nonce,retries:this.retries,url:this.url}}static addLoadEventLisnter(e){return window.kakao&&window.kakao.maps&&window.kakao.maps.load(e),c.loadEventCallback.add(e),e}static removeLoadEventLisnter(e){return c.loadEventCallback.delete(e)}load(){return new Promise((e,t)=>{this.loadCallback(n=>{n?t(n):e(window.kakao)})})}get status(){return this.onEvent?l.FAILURE:this.done?l.SUCCESS:this.loading?l.LOADING:l.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}loadCallback(e){this.callbacks.push(e),this.execute()}resetIfRetryingFailed(){this.failed&&this.reset()}reset(){this.deleteScript(),this.done=!0,this.loading=!1,this.errors=[],this.onEvent=void 0}execute(){if(this.resetIfRetryingFailed(),this.done)this.callback();else{if(window.kakao&&window.kakao.maps){console.warn("Kakao Maps이 이미 외부 요소에 의해 로딩되어 있습니다.설정한 옵션과 일치 하지 않을 수 있으며, 이에 따른 예상치 동작이 발생할 수 있습니다."),window.kakao.maps.load(this.callback);return}this.loading||(this.loading=!0,this.setScript())}}setScript(){document.getElementById(this.id)&&this.callback();let e=this.createUrl(),t=document.createElement("script");t.id=this.id,t.type="text/javascript",t.src=e,t.onerror=this.loadErrorCallback.bind(this),t.onload=this.callback.bind(this),t.defer=!0,t.async=!0,this.nonce&&(t.nonce=this.nonce),document.head.appendChild(t)}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){let e=this.errors.length*2**this.errors.length;console.log(`Failed to load Kakao Maps script, retrying in ${e} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},e)}else this.done=!0,this.loading=!1,this.onEvent=this.errors[this.errors.length-1],this.callbacks.forEach(e=>{e(this.onEvent)}),this.callbacks=[],c.loadEventCallback.forEach(e=>{e(this.onEvent)})}createUrl(){let e=this.url;return e+=`?appkey=${this.appkey}`,this.libraries.length&&(e+=`&libraries=${this.libraries.join(",")}`),e+="&autoload=false"}deleteScript(){let e=document.getElementById(this.id);e&&e.remove()}callback(){kakao.maps.load(()=>{c.instance.done=!0,c.instance.loading=!1,c.instance.callbacks.forEach(e=>{e(c.instance.onEvent)}),c.instance.callbacks=[],c.loadEventCallback.forEach(e=>{e(c.instance.onEvent)})})}static equalOptions(e,t){if(e.appkey!==t.appkey||e.id!==t.id||e.libraries.length!==t.libraries.length)return!1;for(let n=0;n<e.libraries.length;++n)if(e.libraries[n]!==t.libraries[n])return!1;return e.nonce===t.nonce&&e.retries===t.retries&&e.url===t.url}}let d=function(e,t){for(var n=arguments.length,a=Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];r(()=>{!e||a.every(e=>void 0===e)||e[t].call(e,...a)},[e,t,...a])};var p=n(7437);let f=o.createContext(void 0),m=o.forwardRef(function(e,t){let{id:n,as:a,children:l,center:u,isPanto:m=!1,padding:k=32,disableDoubleClick:g,disableDoubleClickZoom:w,draggable:v,zoomable:h,keyboardShortcuts:y,level:L,maxLevel:M,minLevel:E,mapTypeId:I,projectionId:C,scrollwheel:b,tileAnimation:x,onBoundsChanged:R,onCenterChanged:P,onClick:S,onDoubleClick:A,onDrag:T,onDragEnd:O,onDragStart:j,onIdle:z,onMaptypeidChanged:H,onMouseMove:_,onRightClick:Z,onTileLoaded:N,onZoomChanged:D,onZoomStart:$,onCreate:F,...U}=e,[K,G]=(0,o.useState)(!1),[W,q]=(0,o.useState)(),J=(0,o.useRef)(null);return r(()=>{let e=c.addLoadEventLisnter(e=>G(!e));return()=>{c.removeLoadEventLisnter(e)}},[]),r(()=>{if(!K)return;let e=J.current;if(!e)return;let t="lat"in u?new kakao.maps.LatLng(u.lat,u.lng):new kakao.maps.Coords(u.x,u.y);return q(new kakao.maps.Map(e,{center:t,disableDoubleClick:g,disableDoubleClickZoom:w,draggable:v,keyboardShortcuts:y,level:L,mapTypeId:"string"==typeof I?kakao.maps.MapTypeId[I]:I,projectionId:C,scrollwheel:b,tileAnimation:x})),()=>{e.innerHTML=""}},[K,g,w,x]),(0,o.useImperativeHandle)(t,()=>W,[W]),r(()=>{W&&F&&F(W)},[W,F]),r(()=>{if(!W)return;let e=W.getCenter();e instanceof kakao.maps.Coords&&(e=e.toLatLng());let t="lat"in u?new kakao.maps.LatLng(u.lat,u.lng):new kakao.maps.Coords(u.x,u.y);t instanceof kakao.maps.LatLng&&t.equals(e)||t instanceof kakao.maps.Coords&&t.toLatLng().equals(e)||(m?W.panTo(t,k):W.setCenter(t))},[W,u.lat,u.lng,u.x,u.y]),d(W,"setDraggable",v),d(W,"setZoomable",h),d(W,"setKeyboardShortcuts",y),d(W,"setLevel",L),d(W,"setMapTypeId",K?"string"==typeof I?kakao.maps.MapTypeId[I]:I:void 0),d(W,"setProjectionId",C),d(W,"setMinLevel",M),d(W,"setMaxLevel",E),s(W,"bounds_changed",R),s(W,"center_changed",P),s(W,"click",S),s(W,"dblclick",A),s(W,"drag",T),s(W,"dragstart",j),s(W,"dragend",O),s(W,"idle",z),s(W,"maptypeid_changed",H),s(W,"mousemove",_),s(W,"rightclick",Z),s(W,"tilesloaded",N),s(W,"zoom_changed",D),s(W,"zoom_start",$),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(a||"div",{id:n||`${i}_Map`,...U,ref:J}),W&&(0,p.jsx)(f.Provider,{value:W,children:l})]})}),k=e=>{let t=(0,o.useContext)(f);if(!t)throw Error(`${e?e+" Component":"useMap"} must exist inside Map Component!`);return t};var g=n(4887);let w=o.forwardRef(function(e,t){let{map:n,position:a,marker:r,children:s,altitude:i,disableAutoPan:l,range:u,removable:c,zIndex:p,onCreate:f}=e,m=(0,o.useRef)(document.createElement("div")),k=(0,o.useMemo)(()=>{let e=new kakao.maps.InfoWindow({altitude:i,disableAutoPan:l,range:u,removable:c,zIndex:p,content:m.current,position:a});return m.current.style.display="none",e},[l,c]);return(0,o.useImperativeHandle)(t,()=>k,[k]),(0,o.useLayoutEffect)(()=>(k.open(n,r),()=>{k.close()}),[n,r]),(0,o.useLayoutEffect)(()=>{f&&f(k)},[k,f]),d(k,"setPosition",a),d(k,"setAltitude",i),d(k,"setRange",u),d(k,"setZIndex",p),m.current.parentElement&&g.createPortal(s,m.current.parentElement)}),v=o.createContext(void 0),h=o.forwardRef(function(e,t){let{onClusterclick:n,onClusterdblclick:a,onClustered:r,onClusterout:i,onClusterover:l,onClusterrightclick:u,onCreate:c,...f}=e,{children:m,averageCenter:g,calculator:w,clickable:h,disableClickZoom:L,gridSize:M,hoverable:E,minClusterSize:I,minLevel:C,styles:b,texts:x}=f,R=k("MarkerClusterer"),P=(0,o.useMemo)(()=>{if(!window.kakao.maps.MarkerClusterer){console.warn("clusterer 라이브러리를 별도 로드 해야 사용 가능합니다. `https://apis.map.kakao.com/web/guide/#loadlibrary`");return}return new kakao.maps.MarkerClusterer({averageCenter:g,calculator:w,clickable:h,disableClickZoom:L,gridSize:M,hoverable:E,minClusterSize:I,minLevel:C,styles:b,texts:x})},[]);return((0,o.useImperativeHandle)(t,()=>P,[P]),(0,o.useLayoutEffect)(()=>{if(P)return P.setMap(R),()=>{P.setMap(null)}},[R,P]),(0,o.useLayoutEffect)(()=>{P&&c&&c(P)},[P,c]),d(P,"setGridSize",M),d(P,"setMinClusterSize",I),d(P,"setAverageCenter",g),d(P,"setAverageCenter",g),d(P,"setMinLevel",C),d(P,"setTexts",x),d(P,"setCalculator",w),d(P,"setStyles",b),s(P,"clustered",r),s(P,"clusterclick",n),s(P,"clusterover",l),s(P,"clusterout",i),s(P,"clusterdblclick",a),s(P,"clusterrightclick",u),P)?(0,p.jsxs)(v.Provider,{value:P,children:[m,(0,p.jsx)(y,{...f})]}):null}),y=()=>{let e=(0,o.useContext)(v);return r(()=>{e.redraw()}),null},L=o.forwardRef(function(e,t){let{map:n,position:a,children:r,altitude:i,clickable:l,draggable:u,image:c,infoWindowOptions:f,onCreate:m,onClick:k,onDragEnd:g,onDragStart:h,onMouseOut:y,onMouseOver:L,opacity:M,range:E,title:I,zIndex:C}=e,b=(0,o.useContext)(v),x=(0,o.useMemo)(()=>c&&new kakao.maps.MarkerImage(c.src,new kakao.maps.Size(c.size.width,c.size.height),{alt:c.options?.alt,coords:c.options?.coords,offset:c.options?.offset&&new kakao.maps.Point(c.options?.offset.x,c.options?.offset.y),shape:c.options?.shape,spriteOrigin:c.options?.spriteOrigin&&new kakao.maps.Point(c.options?.spriteOrigin.x,c.options?.spriteOrigin.y),spriteSize:c.options?.spriteSize&&new kakao.maps.Size(c.options?.spriteSize.width,c.options?.spriteSize.height)}),[JSON.stringify(c)]),R=(0,o.useMemo)(()=>new kakao.maps.Marker({altitude:i,clickable:l,draggable:u,image:x,opacity:M,range:E,title:I,zIndex:C,position:a}),[]);return((0,o.useImperativeHandle)(t,()=>R,[R]),(0,o.useLayoutEffect)(()=>b?(b.addMarker(R,!0),()=>b.removeMarker(R,!0)):(R.setMap(n),()=>R.setMap(null)),[n,b,R]),(0,o.useLayoutEffect)(()=>{m&&m(R)},[R,m]),d(R,"setPosition",a),d(R,"setImage",x),d(R,"setAltitude",i),d(R,"setClickable",l),d(R,"setDraggable",u),d(R,"setOpacity",M),d(R,"setRange",E),d(R,"setRange",E),d(R,"setTitle",I),d(R,"setTitle",I),d(R,"setZIndex",C),s(R,"click",k),s(R,"dragstart",h),s(R,"dragend",g),s(R,"mouseout",y),s(R,"mouseover",L),r)?(0,p.jsx)(w,{position:a,map:n,marker:R,altitude:f?.altitude,disableAutoPan:f?.disableAutoPan,range:f?.range,removable:f?.removable,zIndex:f?.zIndex,children:r}):null}),M=o.forwardRef(function(e,t){let{position:n,...a}=e,r=k("MapMarker"),s=(0,o.useMemo)(()=>"lat"in n?new kakao.maps.LatLng(n.lat,n.lng):new kakao.maps.Coords(n.x,n.y).toLatLng(),[n.lat,n.lng,n.x,n.y]);return(0,p.jsx)(L,{map:r,position:s,...a,ref:t})}),E=o.forwardRef(function(e,t){let{position:n,children:a,disableAutoPan:r,removable:s,zIndex:i,onCreate:l}=e,u=k("MapInfoWindow"),c=(0,o.useMemo)(()=>new kakao.maps.LatLng(n.lat,n.lng),[n.lat,n.lng]);return(0,p.jsx)(w,{disableAutoPan:r,removable:s,zIndex:i,map:u,position:c,onCreate:l,ref:t,children:a})}),I=o.forwardRef(function(e,t){let{position:n,children:a,clickable:r,xAnchor:s,yAnchor:i,zIndex:l,onCreate:u}=e,c=(0,o.useContext)(v),p=k("CustomOverlayMap"),f=(0,o.useRef)(document.createElement("div")),m=(0,o.useMemo)(()=>new kakao.maps.LatLng(n.lat,n.lng),[n.lat,n.lng]),w=(0,o.useMemo)(()=>{let e=new kakao.maps.CustomOverlay({clickable:r,xAnchor:s,yAnchor:i,zIndex:l,position:m,content:f.current});return f.current.style.display="none",e},[r,s,i]);return(0,o.useImperativeHandle)(t,()=>w,[w]),(0,o.useLayoutEffect)(()=>{if(p)return c?c.addMarker(w,!0):w.setMap(p),()=>{c?c.removeMarker(w,!0):w.setMap(null)}},[p,c,w]),(0,o.useLayoutEffect)(()=>{u&&u(w)},[w,u]),d(w,"setPosition",m),d(w,"setZIndex",l),f.current.parentElement&&g.createPortal(a,f.current.parentElement)}),C=o.forwardRef(function(e,t){let{position:n=kakao.maps.ControlPosition.TOPRIGHT}=e,a=k("MapTypeControl"),r="string"==typeof n?kakao.maps.ControlPosition[n]:n,s=(0,o.useMemo)(()=>new kakao.maps.MapTypeControl,[]);return(0,o.useImperativeHandle)(t,()=>s,[s]),(0,o.useLayoutEffect)(()=>(a.addControl(s,r),()=>{a.removeControl(r)}),[a,s,r]),null}),b=o.forwardRef(function(e,t){let{position:n=kakao.maps.ControlPosition.RIGHT}=e,a=k("ZoomControl"),r="string"==typeof n?kakao.maps.ControlPosition[n]:n,s=(0,o.useMemo)(()=>new kakao.maps.ZoomControl,[]);return(0,o.useImperativeHandle)(t,()=>s,[s]),(0,o.useLayoutEffect)(()=>(a.addControl(s,r),()=>{a.removeControl(s)}),[a,r,s]),null}),x=e=>{let{type:t}=e,n=k("MapTypeId"),a="string"==typeof t?kakao.maps.MapTypeId[t]:t;return(0,o.useLayoutEffect)(()=>(n.addOverlayMapTypeId(a),()=>{n.removeOverlayMapTypeId(a)}),[n,a]),null},R=o.forwardRef(function(e,t){let{center:n,radius:a,fillColor:r,fillOpacity:i,strokeColor:l,strokeOpacity:u,strokeStyle:c,strokeWeight:p,zIndex:f,onMouseover:m,onMouseout:g,onMousemove:w,onMousedown:v,onClick:h,onCreate:y}=e,L=k("Circle"),M=(0,o.useMemo)(()=>new kakao.maps.LatLng(n.lat,n.lng),[n.lat,n.lng]),E=(0,o.useMemo)(()=>new kakao.maps.Circle({center:M,radius:a,fillColor:r,fillOpacity:i,strokeColor:l,strokeOpacity:u,strokeStyle:c,strokeWeight:p,zIndex:f}),[]);return(0,o.useImperativeHandle)(t,()=>E,[E]),(0,o.useLayoutEffect)(()=>(E.setMap(L),()=>{E.setMap(null)}),[L,E]),(0,o.useLayoutEffect)(()=>{y&&y(E)},[E,y]),d(E,"setPosition",M),d(E,"setRadius",a),d(E,"setZIndex",f),(0,o.useLayoutEffect)(()=>{E.setOptions({fillColor:r,fillOpacity:i,strokeColor:l,strokeOpacity:u,strokeStyle:c,strokeWeight:p})},[E,r,i,l,u,c,p]),s(E,"mouseover",m),s(E,"mouseout",g),s(E,"mousemove",w),s(E,"mousedown",v),s(E,"click",h),null}),P=o.forwardRef(function(e,t){let{path:n,endArrow:a,onClick:r,onMousedown:i,onMousemove:l,onMouseout:u,onMouseover:c,onCreate:p,strokeColor:f,strokeOpacity:m,strokeStyle:g,strokeWeight:w,zIndex:v}=e,h=k("Polyline"),y=(0,o.useMemo)(()=>n.every(e=>e instanceof Array)?n.map(e=>e.map(e=>new kakao.maps.LatLng(e.lat,e.lng))):n.map(e=>new kakao.maps.LatLng(e.lat,e.lng)),[n]),L=(0,o.useMemo)(()=>new kakao.maps.Polyline({path:y,endArrow:a,strokeColor:f,strokeOpacity:m,strokeStyle:g,strokeWeight:w,zIndex:v}),[]);return(0,o.useImperativeHandle)(t,()=>L,[L]),(0,o.useLayoutEffect)(()=>(L.setMap(h),()=>L.setMap(null)),[h,L]),(0,o.useLayoutEffect)(()=>{p&&p(L)},[L,p]),(0,o.useLayoutEffect)(()=>{L.setOptions({endArrow:a,strokeColor:f,strokeOpacity:m,strokeStyle:g,strokeWeight:w})},[L,a,f,m,g,w]),d(L,"setPath",y),d(L,"setZIndex",v),s(L,"mouseover",c),s(L,"mouseout",u),s(L,"mousemove",l),s(L,"mousedown",i),s(L,"click",r),null}),S=o.forwardRef(function(e,t){let{path:n,onClick:a,onMousedown:r,onMousemove:i,onMouseout:l,onMouseover:u,onCreate:c,strokeColor:p,strokeOpacity:f,strokeStyle:m,strokeWeight:g,fillColor:w,fillOpacity:v,zIndex:h}=e,y=k("Polygon"),L=(0,o.useMemo)(()=>n.every(e=>e instanceof Array)?n.map(e=>e.map(e=>new kakao.maps.LatLng(e.lat,e.lng))):n.map(e=>new kakao.maps.LatLng(e.lat,e.lng)),[n]),M=(0,o.useMemo)(()=>new kakao.maps.Polygon({path:L,fillColor:w,fillOpacity:v,strokeColor:p,strokeOpacity:f,strokeStyle:m,strokeWeight:g,zIndex:h}),[]);return(0,o.useImperativeHandle)(t,()=>M,[M]),(0,o.useLayoutEffect)(()=>(M.setMap(y),()=>M.setMap(null)),[y,M]),(0,o.useLayoutEffect)(()=>{c&&c(M)},[M,c]),(0,o.useLayoutEffect)(()=>{M.setOptions({fillColor:w,fillOpacity:v,strokeColor:p,strokeOpacity:f,strokeStyle:m,strokeWeight:g})},[M,w,v,p,f,m,g]),d(M,"setPath",L),d(M,"setZIndex",h),s(M,"mouseover",u),s(M,"mouseout",l),s(M,"mousemove",i),s(M,"mousedown",r),s(M,"click",a),null}),A=o.forwardRef(function(e,t){let{bounds:n,onClick:a,onMousedown:r,onMousemove:i,onMouseout:l,onMouseover:u,onCreate:c,strokeColor:p,strokeOpacity:f,strokeStyle:m,strokeWeight:g,fillColor:w,fillOpacity:v,zIndex:h}=e,y=k("Rectangle"),L=(0,o.useMemo)(()=>new kakao.maps.LatLngBounds(new kakao.maps.LatLng(n.sw.lat,n.sw.lng),new kakao.maps.LatLng(n.ne.lat,n.ne.lng)),[n]),M=(0,o.useMemo)(()=>new kakao.maps.Rectangle({bounds:L,fillColor:w,fillOpacity:v,strokeColor:p,strokeOpacity:f,strokeStyle:m,strokeWeight:g,zIndex:h}),[]);return(0,o.useImperativeHandle)(t,()=>M,[M]),(0,o.useLayoutEffect)(()=>(M.setMap(y),()=>M.setMap(null)),[y,M]),(0,o.useLayoutEffect)(()=>{c&&c(M)},[M,c]),(0,o.useLayoutEffect)(()=>{M.setOptions({fillColor:w,fillOpacity:v,strokeColor:p,strokeOpacity:f,strokeStyle:m,strokeWeight:g})},[M,w,v,p,f,m,g]),d(M,"setBounds",L),d(M,"setZIndex",h),s(M,"mouseover",u),s(M,"mouseout",l),s(M,"mousemove",i),s(M,"mousedown",r),s(M,"click",a),null}),T=o.forwardRef(function(e,t){let{center:n,rx:a,ry:r,fillColor:i,fillOpacity:l,strokeColor:u,strokeOpacity:c,strokeStyle:p,strokeWeight:f,zIndex:m,onMouseover:g,onMouseout:w,onMousemove:v,onMousedown:h,onClick:y,onCreate:L}=e,M=k("Ellipse"),E=(0,o.useMemo)(()=>new kakao.maps.LatLng(n.lat,n.lng),[n.lat,n.lng]),I=(0,o.useMemo)(()=>new kakao.maps.Ellipse({center:E,rx:a,ry:r,fillColor:i,fillOpacity:l,strokeColor:u,strokeOpacity:c,strokeStyle:p,strokeWeight:f,zIndex:m}),[]);return(0,o.useImperativeHandle)(t,()=>I,[I]),(0,o.useLayoutEffect)(()=>(I.setMap(M),()=>{I.setMap(null)}),[M,I]),(0,o.useLayoutEffect)(()=>{L&&L(I)},[I,L]),d(I,"setPosition",E),d(I,"setRadius",a,r),d(I,"setZIndex",m),(0,o.useLayoutEffect)(()=>{I.setOptions({fillColor:i,fillOpacity:l,strokeColor:u,strokeOpacity:c,strokeStyle:p,strokeWeight:f})},[I,i,l,u,c,p,f]),s(I,"mouseover",g),s(I,"mouseout",w),s(I,"mousemove",v),s(I,"mousedown",h),s(I,"click",y),null}),O=o.forwardRef(function(e,t){let{draw:n,onAdd:a,onRemove:r,onCreate:s}=e,i=k(),l=(0,o.useMemo)(()=>{class e extends kakao.maps.AbstractOverlay{constructor(e,t,n){super(),this.draw=e,this.onAdd=t,this.onRemove=n}}return new e(n,a,r)},[n,a,r]);return(0,o.useImperativeHandle)(t,()=>l,[l]),(0,o.useLayoutEffect)(()=>(l.setMap(i),()=>{l.setMap(null)}),[i,l]),(0,o.useLayoutEffect)(()=>{s&&s(l)},[l,s]),null}),j=o.createContext(void 0),z=o.forwardRef(function(e,t){let{id:n,as:a,children:l,position:u,pan:d,panoId:f,panoX:m,panoY:k,tilt:g,zoom:w,onCreate:v,onInit:h,onPanoidChange:y,onPositionChanged:L,onViewpointChange:M,onErrorGetNearestPanoId:E,...I}=e,[C,b]=(0,o.useState)(!1),[x,R]=(0,o.useState)(!0),[P,S]=(0,o.useState)(),A=(0,o.useRef)(null);return r(()=>{let e=c.addLoadEventLisnter(e=>b(!e));return()=>{c.removeLoadEventLisnter(e)}},[]),r(()=>{if(!C)return;let e=A.current;if(e)return S(new kakao.maps.Roadview(e,{pan:d,panoId:f,panoX:m,panoY:k,tilt:g,zoom:w})),()=>{e.innerHTML=""}},[C,m,k,w]),(0,o.useImperativeHandle)(t,()=>P,[P]),r(()=>{P&&v&&v(P)},[P,v]),r(()=>{if(!P||f||P.getPosition().getLat()===u.lat&&P.getPosition().getLng()===u.lng)return;let e=new kakao.maps.LatLng(u.lat,u.lng);new kakao.maps.RoadviewClient().getNearestPanoId(e,u.radius,t=>{null===t&&E?E(P):P.setPanoId(t,e)})},[P,f,u.lat,u.lng,u.radius,E]),r(()=>{if(!P||!f||f===P.getPanoId()||P.getPosition().getLat()===u.lat&&P.getPosition().getLng()===u.lng)return;let e=new kakao.maps.LatLng(u.lat,u.lng);P.setPanoId(f,e)},[P,f,u.lat,u.lng]),r(()=>{if(!P)return;let e=P.getViewpoint();(e.pan!==d||e.tilt!==g)&&(d&&(e.pan=d),g&&(e.tilt=g),P.setViewpoint(e))},[P,d,g]),s(P,"init",e=>{R(!1),h&&h(e)}),s(P,"panoid_changed",y),s(P,"viewpoint_changed",M),s(P,"position_changed",L),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(a||"div",{ref:A,id:n||`${i}_Roadview`,...I}),P&&!x&&(0,p.jsx)(j.Provider,{value:P,children:l})]})}),H=e=>{let t=(0,o.useContext)(j);if(!t)throw Error(`${e?e+" Component":"useRoadview"} must exist inside Roadview Component!`);return t},_=o.forwardRef(function(e,t){let{position:n,children:a,clickable:r,xAnchor:s,yAnchor:i,zIndex:l,altitude:u,range:c,onCreate:p}=e,f=H("CustomOverlayRoadview"),m=(0,o.useRef)(document.createElement("div")),k=(0,o.useMemo)(()=>"lat"in n?new kakao.maps.LatLng(n.lat,n.lng):new kakao.maps.Viewpoint(n.pan,n.tilt,n.zoom,n.panoId),[n.lat,n.lng,n.pan,n.tilt,n.zoom,n.panoId]),w=(0,o.useMemo)(()=>{let e=new kakao.maps.CustomOverlay({clickable:r,xAnchor:s,yAnchor:i,zIndex:l,position:k,content:m.current});return m.current.style.display="none",e},[r,s,i]);return(0,o.useImperativeHandle)(t,()=>w,[w]),(0,o.useLayoutEffect)(()=>{if(f)return w.setMap(f),()=>{w.setMap(null)}},[w,f]),(0,o.useLayoutEffect)(()=>{p&&p(w)},[w,p]),d(w,"setPosition",k),d(w,"setZIndex",l),d(w,"setAltitude",u),d(w,"setRange",c),m.current.parentElement&&g.createPortal(a,m.current.parentElement)}),Z=o.forwardRef(function(e,t){let{position:n,...a}=e,r=H("RoadviewMarker"),s=(0,o.useMemo)(()=>"lat"in n?new kakao.maps.LatLng(n.lat,n.lng):"x"in n?new kakao.maps.Coords(n.x,n.y).toLatLng():new kakao.maps.Viewpoint(n.pan,n.tilt,n.zoom,n.panoId),[n.lat,n.lng,n.x,n.y,n.pan,n.tilt,n.zoom,n?.panoId]);return(0,p.jsx)(L,{map:r,position:s,...a,ref:t})}),N=o.forwardRef(function(e,t){let{position:n,children:a,altitude:r,disableAutoPan:s,range:i,removable:l,zIndex:u,onCreate:c}=e,d=H("RoadviewInfoWindow"),f=(0,o.useMemo)(()=>"lat"in n?new kakao.maps.LatLng(n.lat,n.lng):new kakao.maps.Viewpoint(n.pan,n.tilt,n.zoom,n.panoId),[n.lat,n.lng,n.pan,n.tilt,n.zoom,n.panoId]);return(0,p.jsx)(w,{altitude:r,disableAutoPan:s,range:i,removable:l,zIndex:u,map:d,position:f,onCreate:c,ref:t,children:a})}),D=o.createContext(void 0);function $(e,t,n){(0,o.useLayoutEffect)(()=>{e&&n&&e.addListener(t,function(){for(var t=arguments.length,a=Array(t),o=0;o<t;o++)a[o]=arguments[o];return void 0===AbortSignal?n(e):n(e,...a)})},[n,e,t])}let F=o.forwardRef(function(e,t){let{arrowOptions:n,circleOptions:a,ellipseOptions:r,markerOptions:s,polygonOptions:i,polylineOptions:l,rectangleOptions:u,drawingMode:c,guideTooltip:d,onSelect:f,onDrawstart:m,onDraw:g,onDrawend:w,onDrawnext:v,onCancle:h,onRemove:y,onStateChanged:L,onCreate:M,children:E}=e,I=k("Toolbox"),C=(0,o.useMemo)(()=>{if(!window.kakao.maps.drawing){console.warn("drawing 라이브러리를 별도 로드 해야 사용 가능합니다. `https://apis.map.kakao.com/web/guide/#loadlibrary`");return}return new kakao.maps.drawing.DrawingManager({map:I,drawingMode:c,guideTooltip:d,arrowOptions:n,circleOptions:a,ellipseOptions:r,markerOptions:s,polygonOptions:i,polylineOptions:l,rectangleOptions:u})},[]);return((0,o.useImperativeHandle)(t,()=>C,[C]),(0,o.useLayoutEffect)(()=>{C&&M&&M(C)},[C,M]),$(C,"select",f),$(C,"drawstart",m),$(C,"draw",g),$(C,"drawend",w),$(C,"drawnext",v),$(C,"cancel",h),$(C,"remove",y),$(C,"state_changed",L),C)?(0,p.jsx)(D.Provider,{value:C,children:E}):null}),U=o.forwardRef(function(e,t){let{position:n=kakao.maps.ControlPosition.TOP}=e,a="string"==typeof n?kakao.maps.ControlPosition[n]:n,r=k("Toolbox"),s=(0,o.useContext)(D);if(!s)throw Error("Toolbox must exist inside DrawingManager Component!`");let i=(0,o.useMemo)(()=>new kakao.maps.drawing.Toolbox({drawingManager:s}),[s]);return(0,o.useImperativeHandle)(t,()=>i,[i]),(0,o.useLayoutEffect)(()=>{let e=i.getElement();return r.addControl(e,a),()=>{r.removeControl(e)}},[r,i,a]),null}),K=o.forwardRef(function(e,t){let{as:n,id:a,center:s,marker:i,level:l,mapTypeId:u,onCreate:f,...m}=e,[k,g]=(0,o.useState)(!1),[w,v]=(0,o.useState)(),h=(0,o.useRef)(null);return r(()=>{let e=c.addLoadEventLisnter(e=>g(!e));return()=>{c.removeLoadEventLisnter(e)}},[]),r(()=>{if(!k)return;let e=h.current;if(!e)return;let t=Array.isArray(i)?i.map(e=>({...e,position:new kakao.maps.LatLng(e.position.lat,e.position.lng)})):"object"==typeof i&&i.position?{...i,position:new kakao.maps.LatLng(i.position.lat,i.position.lng)}:i;return v(new kakao.maps.StaticMap(e,{center:new kakao.maps.LatLng(s.lat,s.lng),level:l,mapTypeId:"string"==typeof u?kakao.maps.MapTypeId[u]:u,marker:t})),()=>{e.innerHTML=""}},[k,JSON.stringify(i)]),(0,o.useImperativeHandle)(t,()=>w,[w]),r(()=>{w&&f&&f(w)},[w,f]),r(()=>{w&&w.setCenter(new kakao.maps.LatLng(s.lat,s.lng))},[w,s.lat,s.lng]),d(w,"setLevel",l),d(w,"setMapTypeId",k?"string"==typeof u?kakao.maps.MapTypeId[u]:u:void 0),(0,p.jsx)(n||"div",{id:a,...m,ref:h})}),G=e=>{let[t,n]=(0,o.useState)([!0,void 0]);return(0,o.useEffect)(()=>{new c({...e}).load().then(()=>n([!1,void 0])).catch(e=>{n([!1,e])})},[JSON.stringify(e)]),t},W=G}}]);